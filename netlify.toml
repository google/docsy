# Hugo build configuration for Netlify
# (https://gohugo.io/hosting-and-deployment/hosting-on-netlify/#configure-hugo-version-in-netlify)

[build]
publish = "docsy.dev/public"
command = "npm install && cd docsy.dev && npm run build:preview"

[build.environment]
GO_VERSION = "1.23.5"
HUGO_THEME = "repo"

[context.production]
command = "npm install && cd docsy.dev && npm run build:production"

# Redirects for slug swap: /docs/adding-content/ â†’ /docs/content/
[[redirects]]
  from = "/docs/adding-content/content"
  to = "/docs/content/adding-content"
  status = 301

[[redirects]]
  from = "/docs/adding-content/*"
  to = "/docs/content/:splat"
  status = 301

# cSpell:ignore docsy
