# Hugo build configuration for Netlify
# (https://gohugo.io/host-and-deploy/host-on-netlify/#configure-hugo-version-in-netlify)

# base = "docsy.dev" - set via web UI

[build]
publish = "docsy.dev/public"
command = "scripts/_install.sh && npm run build:preview"

[build.environment]
GO_VERSION = "1.25.5"
HUGO_THEME = "repo"

[context.production]
command = "scripts/_install.sh && npm run build:production"

# Redirects for slug swap: /docs/adding-content/ â†’ /docs/content/
[[redirects]]
  from = "/docs/adding-content/content"
  to = "/docs/content/adding-content"
  status = 301

[[redirects]]
  from = "/docs/adding-content/*"
  to = "/docs/content/:splat"
  status = 301

# cSpell:ignore docsy
