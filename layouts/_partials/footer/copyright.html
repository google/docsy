{{ $page := .Page -}}
{{ with .Site.Params.copyright -}}
  {{ $yearDisplay := "" -}}
  {{ $authors := "" -}}
  {{ if reflect.IsMap . -}}
    {{ $to := .to_year | default now.Year -}}
    {{ $yearDisplay = $to -}}
    {{ with .from_year -}}
      {{ if ne (string .) (string $to) -}}
        {{ $yearDisplay = printf "%vâ€“%v" . $to -}}
      {{ end -}}
    {{ end -}}
    {{ $authors = .authors -}}
  {{ else -}}
    {{ $authors = . -}}
  {{ end -}}

  <span class="td-footer__copyright">&copy;
    {{ $yearDisplay }}
    <span class="td-footer__authors">
      {{- $authors
            | default (printf "%s Authors" ($.Site.Title | default "Site"))
            | $page.RenderString -}}
    </span>
    {{- /* Trim WS */ -}}
  </span>

  {{- with T "footer_all_rights_reserved" -}}
    <span class="td-footer__all_rights_reserved">
      {{- . -}}
    </span>
  {{- end }}

{{- else -}}

  {{ with .Site.Copyright -}}
    {{/* For historical reasons we process this as HTML rather than markdown. */ -}}
    <span class="td-footer__copyright">
      {{- . | safeHTML -}}
    </span>
  {{- end -}}

{{ end -}}
